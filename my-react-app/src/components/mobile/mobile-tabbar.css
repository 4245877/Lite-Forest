:root { --mobile-tabbar-h: 64px; }

.mobile-tabbar {
  position: fixed;
  left: 0; right: 0; bottom: 0;
  height: calc(var(--mobile-tabbar-h) + env(safe-area-inset-bottom));
  padding-bottom: env(safe-area-inset-bottom);
  background: var(--color-surface, #fff);
  border-top: 1px solid var(--color-border, #e2e8f0);
  display: none;
  z-index: 110;
}

.mtb-link {
  flex: 1 1 20%;
  height: var(--mobile-tabbar-h);
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  text-decoration: none;
  color: var(--color-text-secondary, #718096);
  position: relative;
}

.mtb-icon { width: 22px; height: 22px; stroke: currentColor; fill: none; stroke-width: 2; }

.mtb-label { margin-top: 4px; font-size: 11px; }
.mtb-label.active { color: var(--color-primary, #2f5233); font-weight: 600; }

.mtb-link.active, .mtb-link[aria-current="page"] {
  color: var(--color-primary, #2f5233);
}

.mtb-badge {
  position: absolute; top: 6px; right: 26%;
  min-width: 18px; padding: 2px 6px; border-radius: 10px;
  background: var(--color-accent-alt, #e9c46a);
  color: var(--color-text-primary, #2d3748);
  font-size: 10px; line-height: 1; text-align: center;
}

@media (max-width: 768px) {
  .mobile-tabbar { display: flex; }
  /* отступ под контент */
  main, #root > div { padding-bottom: calc(var(--mobile-tabbar-h) + env(safe-area-inset-bottom)); }
}

/* не перекрывать футер мобильной плашкой */
@media (max-width: 768px) {
  .app-footer {
    padding-bottom: calc(var(--mobile-tabbar-h) + env(safe-area-inset-bottom));
  }
}
